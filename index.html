<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MasterShop PRO</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{background:#020617;color:white;font-family:tahoma}
.box{max-width:420px;margin:60px auto;background:#0f172a;padding:25px;border-radius:15px}
.app{display:none}
.link{
color:#0d6efd;
cursor:pointer;
text-decoration:underline;
}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="login" class="box">
<h4 class="text-center">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h4>
<input id="lemail" class="form-control mb-2" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
<input id="lpass" type="password" class="form-control mb-2" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
<button class="btn btn-primary w-100" onclick="login()">Ø¯Ø®ÙˆÙ„</button>

<p class="text-center mt-3">
<span class="link" onclick="showReg()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</span>
</p>
</div>

<!-- REGISTER -->
<div id="reg" class="box" style="display:none">
<h4 class="text-center">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h4>

<input id="rname" class="form-control mb-2" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
<input id="rshop" class="form-control mb-2" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙƒØ§Ù†">
<input id="remail" class="form-control mb-2" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
<input id="rpass" type="password" class="form-control mb-2" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± (1 Ù„Ù€ 8 Ø£Ø­Ø±Ù)">

<button class="btn btn-success w-100" onclick="register()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨</button>

<p class="text-center mt-3">
<span class="link" onclick="showLogin()">Ø±Ø¬ÙˆØ¹ Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</span>
</p>
</div>

<!-- APP -->
<div id="app" class="box" style="display:none">
<h4 class="text-center">ğŸ‰ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h4>
<p id="info"></p>
<button class="btn btn-danger w-100" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
</div>

<script>
let users = JSON.parse(localStorage.getItem("users")) || [];

function showReg(){
document.getElementById("login").style.display="none";
document.getElementById("reg").style.display="block";
}

function showLogin(){
document.getElementById("reg").style.display="none";
document.getElementById("login").style.display="block";
}

function register(){

let name=rname.value.trim();
let shop=rshop.value.trim();
let email=remail.value.trim();
let pass=rpass.value.trim();

if(!name||!shop||!email||!pass)
return alert("Ø§Ù…Ù„Ø£ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");

if(pass.length<1||pass.length>8)
return alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ù…Ù† 1 Ù„Ù€ 8 Ø£Ø­Ø±Ù");

if(users.find(u=>u.email==email))
return alert("Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…Ø³ØªØ®Ø¯Ù… Ù‚Ø¨Ù„ ÙƒØ¯Ù‡");

users.push({name,shop,email,pass});
localStorage.setItem("users",JSON.stringify(users));

alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ…");
showLogin();
}

function login(){

let email=lemail.value;
let pass=lpass.value;

let user=users.find(u=>u.email==email && u.pass==pass);

if(!user) return alert("Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø© âŒ");

localStorage.setItem("current",JSON.stringify(user));

document.getElementById("login").style.display="none";
document.getElementById("app").style.display="block";

info.innerHTML=`
ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${user.name}<br>
ğŸª Ø§Ù„Ù…ÙƒØ§Ù†: ${user.shop}<br>
ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯: ${user.email}
`;
}

function logout(){
localStorage.removeItem("current");
location.reload();
}

if(localStorage.getItem("current")){
let u=JSON.parse(localStorage.current);
login.style.display="none";
app.style.display="block";
info.innerHTML=`
ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${u.name}<br>
ğŸª Ø§Ù„Ù…ÙƒØ§Ù†: ${u.shop}<br>
ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯: ${u.email}
`;
}
</script>

</body>
</html>
